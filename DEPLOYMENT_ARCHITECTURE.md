# Enterprise LLMOps RAG - Complete Deployment Architecture

## ğŸ—ï¸ System Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLIENT LAYER                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Web Browser     â”‚  â”‚  Mobile App      â”‚  â”‚  External API    â”‚  â”‚
â”‚  â”‚  (Streamlit UI)  â”‚  â”‚  (REST Client)   â”‚  â”‚  (3rd Party)     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                    â”‚                    â”‚
              â”‚ HTTP/HTTPS         â”‚ HTTP/REST         â”‚ HTTP/REST
              â”‚                    â”‚                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API GATEWAY LAYER (FastAPI)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Container: llmops-rag-api (4 Uvicorn workers / 3 K8s pods)  â”‚  â”‚
â”‚  â”‚                                                               â”‚  â”‚
â”‚  â”‚  Endpoints:                                                   â”‚  â”‚
â”‚  â”‚  â”œâ”€ POST /ask          â†’ Question answering with RAG         â”‚  â”‚
â”‚  â”‚  â”œâ”€ POST /index        â†’ Document indexing                   â”‚  â”‚
â”‚  â”‚  â”œâ”€ POST /search       â†’ Knowledge base search               â”‚  â”‚
â”‚  â”‚  â”œâ”€ POST /upload_pdf   â†’ PDF/document upload                 â”‚  â”‚
â”‚  â”‚  â”œâ”€ GET  /stats        â†’ System statistics                   â”‚  â”‚
â”‚  â”‚  â”œâ”€ POST /clear        â†’ Clear vector store                  â”‚  â”‚
â”‚  â”‚  â””â”€ GET  /health       â†’ Health check                        â”‚  â”‚
â”‚  â”‚                                                               â”‚  â”‚
â”‚  â”‚  Ports: 8000 (Docker), 8000 (K8s)                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ Internal APIs
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â”‚                                    â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
â”‚  AGENTS  â”‚â”‚  SERVICES       â”‚â”‚  VECTOR STORE         â”‚
â”‚          â”‚â”‚                 â”‚â”‚                        â”‚
â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚â”‚qa_      â”‚â”‚â”‚retriever.py  â”‚ â”‚â”‚â”‚FAISS Index         â”‚ â”‚
â”‚â”‚agent.py â”‚â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚â”‚â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚llm_service.pyâ”‚ â”‚â”‚â”‚documents.index     â”‚ â”‚
â”‚          â”‚â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚â”‚â”‚documents.index.txt â”‚ â”‚
â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚ Embeddings   â”‚ â”‚â”‚â”‚documents.embeddings â”‚
â”‚â”‚researchâ”‚â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚â”‚â”‚vector storage (10GB)â”‚
â”‚â”‚_agent  â”‚â”‚â”‚ PDF/Text     â”‚ â”‚â”‚â”‚                    â”‚ â”‚
â”‚â”‚.py     â”‚â”‚â”‚ Processing   â”‚ â”‚â”‚â”‚Metadata storage    â”‚ â”‚
â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚â”‚persistent volumes  â”‚ â”‚
â”‚          â”‚â”‚                 â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”‚                        â”‚                    â”‚
    â”‚ Python imports         â”‚ OpenAI API calls   â”‚ Vector/search ops
    â”‚                        â”‚                    â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              EXTERNAL SERVICES & DATA SOURCES                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ OpenAI API                                                  â”‚  â”‚
â”‚  â”‚ â”œâ”€ text-embedding-3-large (Embeddings)                    â”‚  â”‚
â”‚  â”‚ â”œâ”€ gpt-4o (LLM Generation)                                â”‚  â”‚
â”‚  â”‚ â””â”€ Cost: ~$0.05-0.15 per 1M tokens                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ³ Docker Compose Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Docker Compose Network                         â”‚
â”‚                   (llmops-network bridge)                         â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ llmops-api-gateway           â”‚ â”‚ llmops-streamlit         â”‚  â”‚
â”‚  â”‚ Container: api               â”‚ â”‚ Container: streamlit     â”‚  â”‚
â”‚  â”‚                              â”‚ â”‚                          â”‚  â”‚
â”‚  â”‚ Image: llmops-rag-api:latest â”‚ â”‚ Image:llmops-streamlit   â”‚  â”‚
â”‚  â”‚ Port: 8000:8000              â”‚ â”‚ Port: 8501:8501          â”‚  â”‚
â”‚  â”‚ Volumes:                     â”‚ â”‚ Depends: api (healthy)   â”‚  â”‚
â”‚  â”‚ - vector_store:/app/...      â”‚ â”‚ Volumes:                 â”‚  â”‚
â”‚  â”‚ - logs:/app/logs             â”‚ â”‚ - ./frontend_streamlit   â”‚  â”‚
â”‚  â”‚                              â”‚ â”‚                          â”‚  â”‚
â”‚  â”‚ Health Check:                â”‚ â”‚ Network: llmops-network  â”‚  â”‚
â”‚  â”‚ GET /health (30s interval)   â”‚ â”‚                          â”‚  â”‚
â”‚  â”‚                              â”‚ â”‚ API_URL=http://api:8000  â”‚  â”‚
â”‚  â”‚ Environment:                 â”‚ â”‚                          â”‚  â”‚
â”‚  â”‚ - OPENAI_API_KEY             â”‚ â”‚ Environment:             â”‚  â”‚
â”‚  â”‚ - USE_DEMO_MODE              â”‚ â”‚ - API_URL                â”‚  â”‚
â”‚  â”‚                              â”‚ â”‚ - OPENAI_API_KEY         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Docker Volumes                        â”‚   â”‚
â”‚  â”‚  - vector_store (FAISS index persistence)               â”‚   â”‚
â”‚  â”‚  - logs (application logs)                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## â˜¸ï¸ Kubernetes Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Kubernetes Cluster (Minikube)                      â”‚
â”‚                           Namespace: llmops                            â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Deployment Config      â”‚  â”‚    Horizontal Pod Autoscaler     â”‚  â”‚
â”‚  â”‚                          â”‚  â”‚                                  â”‚  â”‚
â”‚  â”‚  llmops-rag-api:         â”‚  â”‚  â”œâ”€ Min Replicas: 2              â”‚  â”‚
â”‚  â”‚  â”œâ”€ Replicas: 3          â”‚  â”‚  â”œâ”€ Max Replicas: 10             â”‚  â”‚
â”‚  â”‚  â”œâ”€ Image: llmops-...api â”‚  â”‚  â”œâ”€ CPU Target: 70%              â”‚  â”‚
â”‚  â”‚  â”œâ”€ Port: 8000           â”‚  â”‚  â””â”€ Memory Target: 80%           â”‚  â”‚
â”‚  â”‚  â”œâ”€ Liveness Probe       â”‚  â”‚                                  â”‚  â”‚
â”‚  â”‚  â”œâ”€ Readiness Probe      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚  â””â”€ CPU/Memory Limits    â”‚                                         â”‚
â”‚  â”‚                          â”‚                                         â”‚
â”‚  â”‚  llmops-streamlit:       â”‚                                         â”‚
â”‚  â”‚  â”œâ”€ Replicas: 1          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â”œâ”€ Image: llmops-...ui  â”‚  â”‚        Services (Discovery)      â”‚  â”‚
â”‚  â”‚  â”œâ”€ Port: 8501           â”‚  â”‚                                  â”‚  â”‚
â”‚  â”‚  â”œâ”€ Depends: api         â”‚  â”‚  ClusterIP (Internal):           â”‚  â”‚
â”‚  â”‚  â””â”€ Health Checks        â”‚  â”‚  llmops-rag-api-service:8000     â”‚  â”‚
â”‚  â”‚                          â”‚  â”‚                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  NodePort (External):            â”‚  â”‚
â”‚                                 â”‚  llmops-streamlit-service:30501  â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                                  â”‚  â”‚
â”‚  â”‚  Persistent Storage      â”‚   â”‚  LoadBalancer (Optional):        â”‚  â”‚
â”‚  â”‚                          â”‚   â”‚  llmops-api-loadbalancer:80     â”‚  â”‚
â”‚  â”‚  â”Œâ”€ vector-store-pvc     â”‚   â”‚                                  â”‚  â”‚
â”‚  â”‚  â”‚  (10Gi)              â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚  â”‚  Mount: /app/v_store â”‚                                         â”‚
â”‚  â”‚  â”‚                      â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â”‚- logs-pvc           â”‚   â”‚   ConfigMap & Secrets             â”‚  â”‚
â”‚  â”‚  â”‚  (5Gi)              â”‚   â”‚                                  â”‚  â”‚
â”‚  â”‚  â”‚  Mount: /app/logs   â”‚   â”‚  - llmops-secrets                 â”‚  â”‚
â”‚  â”‚  â”‚                      â”‚   â”‚    (OPENAI_API_KEY)              â”‚  â”‚
â”‚  â”‚  â””â”€ PersistentVolume   â”‚   â”‚                                  â”‚  â”‚
â”‚  â”‚     (hostPath)          â”‚   â”‚  - llmops-config                 â”‚  â”‚
â”‚  â”‚     (/mnt/data/...)     â”‚   â”‚    (USE_DEMO_MODE, etc)          â”‚  â”‚
â”‚  â”‚                          â”‚   â”‚                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            Pod Networking (Service Discovery)                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ rag-api Pods (3)  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ streamlit Pod (1)     â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                   â”‚          â”‚                       â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ pod-1 (8000)      â”‚          â”‚ pod-1 (8501)          â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ pod-2 (8000)      â”‚ Internal â”‚ API_URL:              â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ pod-3 (8000)      â”‚ Service  â”‚ llmops-rag-api-...    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                   â”‚ DNS      â”‚                       â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ CI/CD Pipeline Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GitHub Repository                                  â”‚
â”‚                                                                       â”‚
â”‚  Developer â†’ Git Push â†’ main/develop branch                          â”‚
â”‚                              â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GitHub Actions Workflows                          â”‚
â”‚                                                                       â”‚
â”‚  .github/workflows/                                                  â”‚
â”‚  â”œâ”€ ci-cd.yml (Main pipeline)                                       â”‚
â”‚  â”‚  â”œâ”€ Trigger: push main/develop, pull_request                    â”‚
â”‚  â”‚  â”‚                                                               â”‚
â”‚  â”‚  â”œâ”€ JOB 1: TEST & LINT                                          â”‚
â”‚  â”‚  â”‚  â”œâ”€ Install Python dependencies                             â”‚
â”‚  â”‚  â”‚  â”œâ”€ Run flake8, black, isort                                â”‚
â”‚  â”‚  â”‚  â”œâ”€ Run pytest with coverage                                â”‚
â”‚  â”‚  â”‚  â””â”€ Upload to codecov                                       â”‚
â”‚  â”‚  â”‚                                                               â”‚
â”‚  â”‚  â”œâ”€ JOB 2: BUILD (if develop/main)                             â”‚
â”‚  â”‚  â”‚  â”œâ”€ Setup Docker Buildx                                     â”‚
â”‚  â”‚  â”‚  â”œâ”€ Login to ghcr.io                                        â”‚
â”‚  â”‚  â”‚  â”œâ”€ Build FastAPI image                                     â”‚
â”‚  â”‚  â”‚  â”œâ”€ Build Streamlit image                                   â”‚
â”‚  â”‚  â”‚  â””â”€ Push to registry                                        â”‚
â”‚  â”‚  â”‚                                                               â”‚
â”‚  â”‚  â”œâ”€ JOB 3: DEPLOY (if main branch)                             â”‚
â”‚  â”‚  â”‚  â”œâ”€ Start Minikube                                          â”‚
â”‚  â”‚  â”‚  â”œâ”€ Build images in Minikube                                â”‚
â”‚  â”‚  â”‚  â”œâ”€ Apply K8s manifests                                     â”‚
â”‚  â”‚  â”‚  â”œâ”€ Wait for rollout                                        â”‚
â”‚  â”‚  â”‚  â””â”€ Run health checks                                       â”‚
â”‚  â”‚  â”‚                                                               â”‚
â”‚  â”‚  â”œâ”€ JOB 4: SECURITY SCAN                                        â”‚
â”‚  â”‚  â”‚  â”œâ”€ Trivy fs scan                                           â”‚
â”‚  â”‚  â”‚  â””â”€ Upload SARIF report                                     â”‚
â”‚  â”‚  â”‚                                                               â”‚
â”‚  â”‚  â””â”€ JOB 5: NOTIFY (Slack/Email)                                â”‚
â”‚  â”‚     â”œâ”€ On success                                              â”‚
â”‚  â”‚     â””â”€ On failure                                              â”‚
â”‚  â”‚                                                                  â”‚
â”‚  â””â”€ security.yml (Weekly security)                                 â”‚
â”‚     â”œâ”€ Bandit scan                                                â”‚
â”‚     â””â”€ Safety check                                               â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚              â”‚              â”‚
                â–¼              â–¼              â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Tests Pass? â”‚ â”‚  Image Push â”‚ â”‚ K8s Deploy?  â”‚
         â”‚   (junit)   â”‚ â”‚  (ghcr.io)  â”‚ â”‚  (Minikube)  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Data Flow Architecture

```
User Input (Question/Document)
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Streamlit Frontend          â”‚
â”‚                                â”‚
â”‚  Input Validation              â”‚
â”‚  â”œâ”€ Sanitize text              â”‚
â”‚  â”œâ”€ Check file size/format     â”‚
â”‚  â””â”€ Show loading indicator     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼ HTTP Request
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    FastAPI Gateway             â”‚
â”‚                                â”‚
â”‚  /ask, /index, /search         â”‚
â”‚  â”œâ”€ Validate input             â”‚
â”‚  â”œâ”€ Rate limiting              â”‚
â”‚  â””â”€ Route to handlers          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                 â”‚
    â–¼                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Document Upload     â”‚     â”‚ Question Asked   â”‚
â”‚                     â”‚     â”‚                  â”‚
â”‚ 1. Receive PDF/Text â”‚     â”‚ 1. Embed query   â”‚
â”‚ 2. Text Extract     â”‚     â”‚ 2. Search store  â”‚
â”‚ 3. Chunking         â”‚     â”‚ 3. Retrieve docs â”‚
â”‚ 4. Embedding        â”‚     â”‚ 4. Package as    â”‚
â”‚ 5. Store in FAISS   â”‚     â”‚    context       â”‚
â”‚ 6. Return status    â”‚     â”‚ 5. Call LLM      â”‚
â”‚                     â”‚     â”‚ 6. Stream answer â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                                 â”‚
    â”‚ Stored                          â”‚ Retrieved
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
                                     â”‚â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   OpenAI API Calls        â”‚
                        â”‚                           â”‚
                        â”‚  /v1/embeddings (embed)    â”‚
                        â”‚  /v1/chat/completions (LLMâ”‚
                        â”‚                           â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  LLM Generated Answer   â”‚
                        â”‚                         â”‚
                        â”‚  Based on:              â”‚
                        â”‚  - Retrieved documents  â”‚
                        â”‚  - Original question    â”‚
                        â”‚  - System prompt        â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ Return to Streamlit     â”‚
                        â”‚                         â”‚
                        â”‚ Display:                â”‚
                        â”‚ - Answer text           â”‚
                        â”‚ - Sources               â”‚
                        â”‚ - Confidence scores     â”‚
                        â”‚ - Metadata              â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ User Sees Response      â”‚
                        â”‚                         â”‚
                        â”‚ Streamlit UI shows:     â”‚
                        â”‚ âœ“ Colored response      â”‚
                        â”‚ âœ“ Retrieved documents   â”‚
                        â”‚ âœ“ Generation time       â”‚
                        â”‚ âœ“ Model used            â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Security Layers                                  â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 1. Input Validation Layer                               â”‚ â”‚
â”‚  â”‚    â”œâ”€ FastAPI Pydantic models                          â”‚ â”‚
â”‚  â”‚    â”œâ”€ File type validation                            â”‚ â”‚
â”‚  â”‚    â”œâ”€ Size limits (PDFs, texts)                       â”‚ â”‚
â”‚  â”‚    â””â”€ SQL injection prevention                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 2. API Security                                          â”‚ â”‚
â”‚  â”‚    â”œâ”€ Rate limiting                                    â”‚ â”‚
â”‚  â”‚    â”œâ”€ API key validation                              â”‚ â”‚
â”‚  â”‚    â”œâ”€ CORS configuration                              â”‚ â”‚
â”‚  â”‚    â””â”€ HTTPS enforcement (production)                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 3. Container Security                                    â”‚ â”‚
â”‚  â”‚    â”œâ”€ Non-root user in image                          â”‚ â”‚
â”‚  â”‚    â”œâ”€ Read-only filesystem (where possible)           â”‚ â”‚
â”‚  â”‚    â”œâ”€ Health checks                                   â”‚ â”‚
â”‚  â”‚    â””â”€ Resource limits (CPU/Memory)                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 4. Kubernetes Security                                   â”‚ â”‚
â”‚  â”‚    â”œâ”€ Network policies                                â”‚ â”‚
â”‚  â”‚    â”œâ”€ RBAC (role-based access control)               â”‚ â”‚
â”‚  â”‚    â”œâ”€ Pod security policies                          â”‚ â”‚
â”‚  â”‚    â”œâ”€ Secrets management (encrypted etcd)            â”‚ â”‚
â”‚  â”‚    â””â”€ Namespace isolation                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 5. Data Security                                         â”‚ â”‚
â”‚  â”‚    â”œâ”€ Encrypted API keys (K8s Secrets)               â”‚ â”‚
â”‚  â”‚    â”œâ”€ .env not committed to git                      â”‚ â”‚
â”‚  â”‚    â”œâ”€ Vector store access control                    â”‚ â”‚
â”‚  â”‚    â””â”€ Logs filtered for sensitive data               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 6. Dependency Security                                   â”‚ â”‚
â”‚  â”‚    â”œâ”€ Regular vulnerability scanning                 â”‚ â”‚
â”‚  â”‚    â”œâ”€ Bandit (code security)                        â”‚ â”‚
â”‚  â”‚    â”œâ”€ Safety (dependency check)                     â”‚ â”‚
â”‚  â”‚    â””â”€ Trivy (image scanning)                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ Deployment Paths

```
Local Development
    â”‚
    â”œâ”€â–º Docker Compose (docker-compose up)
    â”‚   â””â”€â–º Access on localhost:8000, localhost:8501
    â”‚
    â””â”€â–º Direct Python (python -m uvicorn)
        â””â”€â–º For debugging

Staging/Testing
    â”‚
    â””â”€â–º Minikube (bash infra/k8s/deploy.sh)
        â”œâ”€â–º Local K8s cluster
        â”œâ”€â–º Test scaling, failover
        â””â”€â–º Validate manifests

Production
    â”‚
    â”œâ”€â–º GitHub Actions CI/CD
    â”‚   â”œâ”€â–º Test â†’ Build â†’ Deploy to staging
    â”‚   â””â”€â–º Manual approval for production
    â”‚
    â””â”€â–º Cloud Kubernetes (EKS/GKE/AKS)
        â”œâ”€â–º Auto-scaling
        â”œâ”€â–º Load balancing
        â”œâ”€â–º Monitoring/Logging
        â””â”€â–º Multi-region deployment
```

## ğŸ“ˆ Scaling Strategy

```
Start: Development/Demo
â”œâ”€ Docker Compose: 1 API + 1 Streamlit
â”œâ”€ FAISS (in-memory): ~1M vectors max
â””â”€ Response: ~2-5 seconds

Stage 1: Small Team (5-20 users)
â”œâ”€ Minikube: 2-3 API replicas + 1 Streamlit
â”œâ”€ FAISS with SSD: ~10M vectors
â”œâ”€ HPA auto-scaling: 70% CPU threshold
â””â”€ Response: ~1-3 seconds

Stage 2: Growing (50-200 users)
â”œâ”€ EKS/GKE: 5-10 API replicas auto-scaling
â”œâ”€ Distributed FAISS or Milvus: ~100M vectors
â”œâ”€ Redis caching for embeddings
â”œâ”€ Prometheus + Grafana monitoring
â””â”€ Response: <1 second (cached)

Stage 3: Enterprise (1000+ users)
â”œâ”€ Dedicated K8s cluster (multi-zone)
â”œâ”€ Vector DB (Pinecone/Weaviate): billions of vectors
â”œâ”€ Message queue (Kafka) for async processing
â”œâ”€ CDN for static content
â”œâ”€ Full observability stack
â””â”€ Response: <500ms P99
```

---

**Architecture Version:** 1.0.0  
**Last Updated:** February 2026  
**Deployment Methods:** Docker Compose | Kubernetes | CI/CD  
**Max Scale:** Millions of vectors, thousands of concurrent users
